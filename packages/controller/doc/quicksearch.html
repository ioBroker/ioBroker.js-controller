<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Documentation Classes Adapter Classes Classes Adapter × Search results Close Documentation generated by JSDoc 3.5.5 on 2018-08-27T15:12:39+02:00 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Documentation Classes Adapter × Search results Close Documentation generated by JSDoc 3.5.5 on 2018-08-27T15:12:39+02:00 using the DocStrap template. "},"Adapter.html":{"id":"Adapter.html","title":"Class: Adapter","body":" Documentation Classes Adapter Class: Adapter Adapter new Adapter(options) Adapter class Parameters: Name Type Description options string | object object like {name: &quot;adapterName&quot;, systemConfig: true} or just &quot;adapterName&quot; Returns: object instance Type object Methods &lt;static&gt; that.restart() Restarts an instance of the adapter. calculatePermissions(user, commandsPermissions, options, callback) get the user permissions This function used mostly internally and the adapter developer do not require it. The function reads permissions of user's groups (it can be more than one) and merge permissions together Parameters: Name Type Description user string user name as text commandsPermissions CommandsPermissions object that describes the access rights like // static information var commandsPermissions = { getObject: {type: 'object', operation: 'read'}, getObjects: {type: 'object', operation: 'list'}, getObjectView: {type: 'object', operation: 'list'}, setObject: {type: 'object', operation: 'write'}, subscribeObjects: {type: 'object', operation: 'read'}, unsubscribeObjects: {type: 'object', operation: 'read'}, getStates: {type: 'state', operation: 'list'}, getState: {type: 'state', operation: 'read'}, setState: {type: 'state', operation: 'write'}, getStateHistory: {type: 'state', operation: 'read'}, subscribe: {type: 'state', operation: 'read'}, unsubscribe: {type: 'state', operation: 'read'}, getVersion: {type: '', operation: ''}, httpGet: {type: 'other', operation: 'http'}, sendTo: {type: 'other', operation: 'sendto'}, sendToHost: {type: 'other', operation: 'sendto'}, readFile: {type: 'file', operation: 'read'}, readFile64: {type: 'file', operation: 'read'}, writeFile: {type: 'file', operation: 'write'}, writeFile64: {type: 'file', operation: 'write'}, unlink: {type: 'file', operation: 'delete'}, rename: {type: 'file', operation: 'write'}, mkdir: {type: 'file', operation: 'write'}, readDir: {type: 'file', operation: 'list'}, chmodFile: {type: 'file', operation: 'write'}, authEnabled: {type: '', operation: ''}, disconnect: {type: '', operation: ''}, listPermissions: {type: '', operation: ''}, getUserPermissions: {type: 'object', operation: 'read'} }; &lt;/code&gt;&lt;/pre&gt; options object optional user context callback function return result function (acl) { // Access control object for admin looks like: // { // file: { // read: true, // write: true, // 'delete': true, // create: true, // list: true // }, // object: { // read: true, // write: true, // 'delete': true, // list: true // }, // state: { // read: true, // write: true, // 'delete': true, // create: true, // list: true // }, // user: 'admin', // users: { // read: true, // write: true, // create: true, // 'delete': true, // list: true // }, // other: { // execute: true, // http: true, // sendto: true // }, // groups: ['administrator'] // can be more than one // } } checkGroup(user, group, options, callback) returns if user exists and is in the group This function used mostly internally and the adapter developer do not require it. Parameters: Name Type Description user string user name as text group string group name options object optional user context callback function return result function (result) { if (result) adapter.log.debug('User exists and in the group'); } checkPassword(user, pw, options, callback) validates user and password Parameters: Name Type Description user string user name as text pw string password as text options object optional user context callback function return result function (result) { adapter.log.debug('User is valid'); } deleteDevice(deviceName, options, callback) Delete device with all its channels and states. Parameters: Name Type Description deviceName string is the part of ID like: adapter.instance. options object optional user context callback function return result function (err, obj) { // obj is {id: id} if (err) adapter.log.error('Cannot write object: ' + err); } delForeignObject(id, options, callback) Delete any object. ID must be specified with namespace. It deletes state of object too if type of object is &quot;state&quot;. Parameters: Name Type Description id string exactly object ID (with namespace) options object optional user context callback function return result function (err) { if (err) adapter.log.error('Cannot delete object: ' + err); } delForeignState(id, options, callback) Delete one state of any adapter. Same as @delForeignObject Deletes the state and object. If State does not exist, no error will be returned. Do not forget do delete the object for the state too (with delObject) adapter.delState('adapterName.0.stateID', function (err) { console.log('adapterName.0.stateID is deleted'); }); Parameters: Name Type Description id string long string for ID like &quot;adapterName.0.stateID&quot;. options object optional argument to describe the user context callback function return result function (err) {} delObject(id, options, callback) Delete object of this instance. It is not required, that ID consists namespace. E.g. to get object of &quot;adapterName.X.myObject&quot;, only &quot;myObject&quot; is required as ID. State will be deleted too if the object has type &quot;state&quot;. Parameters: Name Type Description id string exactly object ID (without namespace) options object optional user context callback function return result function (err) { if (err) adapter.log.error('Cannot delete object: ' + err); } delState(id, options, callback) Same as @delObject It is not required, that ID consists namespace. E.g. to get object of &quot;adapterName.X.myObject&quot;, only &quot;myObject&quot; is required as ID. State will be deleted too if the object has type &quot;state&quot;. Returns no error if state does not exist. Parameters: Name Type Description id string exactly object ID (without namespace) options object optional user context callback function return result function (err) { if (err) adapter.log.error('Cannot delete object: ' + err); } extendForeignObject(id, obj, options, callback) Same as Adapter.extendObject, but for any object. ID must be specified as a full name with adapter namespace. E.g &quot;hm-rpc.0.ABC98989.1.STATE&quot; Parameters: Name Type Description id string object ID, that must be extended obj object part that must be extended options object optional user context callback function return result function (err, obj) { // obj is {&quot;id&quot;: id} if (err) adapter.log.error(err); } extendObject(id, obj, options, callback) Extend some object and create it if it does not exist You can change or extend some object. E.g existing object is: { common: { name: 'Adapter name', desc: 'Description' }, type: 'state', native: { unused: 'text' } } If following object will be passed as argument { common: { desc: 'New description', min: 0, max: 100 }, native: { unused: null } } We will get as output: { common: { desc: 'New description', min: 0, max: 100 }, type: 'state', native: { } } Parameters: Name Type Description id string object ID, that must be extended obj object part that must be extended options object optional user context callback function return result function (err, obj) { if (err) adapter.log.error(err); // obj is {&quot;id&quot;: id} } findForeignObject(id, type, options, callback) Find any object by name or ID. Find object by the exact name or ID. Parameters: Name Type Description id string exactly object ID (without namespace) type string optional common.type of state: 'number', 'string', 'boolean', 'file', ... options object optional user context callback function return result adapter.findForeignObject('Some name', function (err, id, name) { if (err) adapter.log.error('Cannot get object: ' + err); adapter.log.debug('ID of object with name &quot;' + name + '&quot; is &quot;' + id + '&quot;'); } getAdapterObjects(callback) Get all states, channels and devices of this adapter. Parameters: Name Type Description callback function return result function (objects) { for (var id in objects) { adapter.log.debug(id); } } getCertificates(publicName, privateName, chainedName, callback) returns SSL certificates by name This function returns SSL certificates (private key, public cert and chained certificate). Names are defined in the system's configuration in admin, e.g. &quot;defaultPrivate&quot;, &quot;defaultPublic&quot;. The result can be directly used for creation of https server. Parameters: Name Type Description publicName string public certificate name privateName string private certificate name chainedName string optional chained certificate name callback function return result function (err, certs) { adapter.log.debug('private key: ' + certs.key); adapter.log.debug('public cert: ' + certs.cert); adapter.log.debug('chained cert: ' + certs.ca); } getEnum(_enum, options, callback) Get the enum tree. Get enums of specified tree or all enums if nothing specified as object with values. If getEnum called with no enum specified, all enums will be returned: adapter.getEnums(function (err, enums, requestEnum) { // All enums if (err) adapter.log.error('Cannot get object: ' + err); for (var e in enums) { adapter.log.debug('Enum &quot;' + e + '&quot; has following members: ' + enums[e].common.members.join(', ')); } }); Parameters: Name Type Description _enum string enum name, e.g. 'rooms', 'function' or '' (all enums) options object optional user context callback function return result function (err, enums, requestEnum) { // requestEnum is _enum if (err) adapter.log.error('Cannot get object: ' + err); for (var e in enums) { adapter.log.debug('Enum &quot;' + e + '&quot; has following members: ' + enums[e].common.members.join(', ')); } } getEnums(_enumList, options, callback) Read the members of given enums. Get enums of specified tree or all enums if nothing specified as object with values. Parameters: Name Type Description _enumList string | array enum name or names, e.g. ['rooms', 'function'] options object optional user context callback function return result function (err, enums) { // requestEnum is _enum if (err) adapter.log.error('Cannot get object: ' + err); // Result is like // { // &quot;enum.rooms&quot;: { // &quot;enum.rooms.livingroom&quot;: { // common: { // members: ['ID1', 'ID2'] // } // }, // &quot;enum.rooms.sleepingroom&quot;: { // common: { // members: ['ID3', 'ID4'] // } // } // }, // &quot;enum.functions&quot;: { // &quot;enum.rooms.light&quot;: { // common: { // members: ['ID1', 'ID6'] // } // }, // &quot;enum.rooms.weather&quot;: { // common: { // members: ['ID4', 'ID7'] // } // } // } // } } getForeignObject(id, options, callback) Get any object. ID must be specified with namespace. Parameters: Name Type Description id string exactly object ID (with namespace) options object optional user context callback function return result function (err, obj) { if (err) adapter.log.error('Cannot get object: ' + err); } getForeignObjects(pattern, type, enums, options, callback) Get objects by pattern, by specific type and resolve their enums. Get all objects in the system of specified type. E.g.: &lt;pre&gt;&lt;code&gt; adapter.getForeignObjects('hm-rega.0.*', 'state', ['rooms', 'functions'], function (err, objs) { if (err) adapter.log.error('Cannot get object: ' + err); // objs look like: // { // &quot;hm-rega.0.ABC0000.1.STATE&quot;: { // common: {...}, // native: {}, // type: 'state', // enums: { // 'enums.rooms.livingroom': 'Living room', // 'enums.functions.light': 'Light' // } // }, // &quot;hm-rega.0.ABC0000.2.STATE&quot;: { // common: {...}, // native: {}, // type: 'state', // enums: { // 'enums.rooms.sleepingroom': 'Sleeping room', // 'enums.functions.window': 'Windows' // } // } } &lt;/code&gt;&lt;/pre&gt; Parameters: Name Type Description pattern string object ID/wildchars type string type of object: 'state', 'channel' or 'device'. Default - 'state' enums string | Array.&lt;string&gt; object ID, that must be overwritten or created. options object optional user context callback function return result function (err, obj) { if (err) adapter.log.error('Cannot get object: ' + err); } getForeignState(id, options, callback) Read value from states DB for any instance and system state. This function can read values from states DB for all instances and adapters. It expects the full path of object ID. Parameters: Name Type Description id string object ID of the state. options object optional user context callback function return result function (err, state) { if (err) adapter.log.error('Cannot read value: ' + err); } See possible attributes of the state in @setState explanation getForeignStates(pattern, options, callback) Read all states of all adapters (and system states), that pass the pattern Allows to read all states of current adapter according to pattern. To read all states of current adapter use: adapter.getStates('*', function (err, states) { for (var id in states) { adapter.log.debug('&quot;' + id + '&quot; = &quot;' + states[id].val); } }); Parameters: Name Type Description pattern string string in form 'adapter.0.*' or like this. It can be array of IDs too. options object optional argument to describe the user context callback function return result function (err, states) {}, where states is an object like {&quot;ID1&quot;: {&quot;val&quot;: 1, &quot;ack&quot;: true}, &quot;ID2&quot;: {&quot;val&quot;: 2, &quot;ack&quot;: false}, ...} getHistory(id, options, callback) Read historian data for states of any instance or system state. This function can read values from history adapters like: history, sql, influxdb. It expects the full path of object ID. Normally only foreign history has interest, so there is no getHistory and getForeignHistory Possible options: instance - (optional) name of instance, where to read the historian data, e.g. 'history.0', 'sql.1'. By default will be taken from system settings. start - (optional) time in ms - Date.now()', by default is (now - 1 week) end - (optional) time in ms - Date.now()', by default is (now + 5000 seconds) step - (optional) used in aggregate (m4, max, min, average, total) step in ms of intervals count - number of values if aggregate is 'onchange' or number of intervals if other aggregate method. Count will be ignored if step is set. from - if from field should be included in answer ack - if ack field should be included in answer q - if q field should be included in answer addId - if id field should be included in answer limit - do not return more entries than limit ignoreNull - if null values should be include (false), replaced by last not null value (true) or replaced with 0 (0) sessionId - (optional) identifier of request, will be returned back in the answer aggregate - aggregate method: minmax - used special algorithm. Splice the whole time range in small intervals and find for every interval max, min, start and end values. max - Splice the whole time range in small intervals and find for every interval max value and use it for this interval (nulls will be ignored). min - Same as max, but take minimal value. average - Same as max, but take average value. total - Same as max, but calculate total value. count - Same as max, but calculate number of values (nulls will be calculated). none - No aggregation at all. Only raw values in given period. Parameters: Name Type Description id string object ID of the state. options object see function description callback function return result function (error, result, step, sessionId) { if (error) adapter.log.error('Cannot read value: ' + err); } See possible attributes of the state in @setState explanation getObject(id, options, callback) Get object of this instance. It is not required, that ID consists namespace. E.g. to get object of &quot;adapterName.X.myObject&quot;, only &quot;myObject&quot; is required as ID. Parameters: Name Type Description id string exactly object ID (without namespace) options object optional user context callback function return result function (err, obj) { if (err) adapter.log.error('Cannot get object: ' + err); } getPort(port, callback) Helper function to find next free port Looks for first free TCP port starting with given one: adapter.getPort(8081, function (port) { adapter.log.debug('Followinf port is free: ' + port); }); Parameters: Name Type Description port number port number to start the search for free port callback function return result function (port) {} getState(id, options, callback) Read value from states DB. This function can read values from states DB for this adapter. Only Ids that belong to this adapter can be read. So the function automatically adds &quot;adapter.X.&quot; to ID. Parameters: Name Type Description id string object ID of the state. options object optional user context callback function return result function (err, state) { if (err) adapter.log.error('Cannot read value: ' + err); } See possible attributes of the state in @setState explanation getStates(pattern, options, callback) Read all states of this adapter, that pass the pattern Allows to read all states of current adapter according to pattern. To read all states of current adapter use: adapter.getStates('*', function (err, states) { for (var id in states) { adapter.log.debug('&quot;' + id + '&quot; = &quot;' + states[id].val); } }); Parameters: Name Type Description pattern string string in form 'adapter.0.*' or like this. It can be array of IDs too. options object optional argument to describe the user context callback function return result function (err, states) {}, where states is an object like {&quot;ID1&quot;: {&quot;val&quot;: 1, &quot;ack&quot;: true}, &quot;ID2&quot;: {&quot;val&quot;: 2, &quot;ack&quot;: false}, ...} idToDCS(id) Convert ID into object with device's, channel's and state's name. Convert &quot;adapter.instance.D.C.S&quot; in object {device: D, channel: C, state: S} Convert ID to {device: D, channel: C, state: S} Parameters: Name Type Description id string short or long string of ID like &quot;stateID&quot; or &quot;adapterName.0.stateID&quot;. Returns: parsed ID as an object Type object readDir(_adapter, path, options, callback) Read directory from DB. This function reads the content of directory from DB for given adapter and path. If getEnum called with no enum specified, all enums will be returned: adapter.readDir('vis.0', '/main/', function (err, filesOrDirs) { // All enums if (err) adapter.log.error('Cannot read directory: ' + err); if (filesOrDirs) { for (var f = 0; f &lt; filesOrDirs.length; f++) { adapter.log.debug('Directory main has following files and dirs: ' + filesOrDirs[f].file + '[dir - ' + filesOrDirs[f].isDir + ']'); } } }); Parameters: Name Type Description _adapter string adapter name. If adapter name is null, so the name (not instance) of current adapter will be taken. path string path to direcory without adapter name. E.g. If you want to read &quot;/vis.0/main/views.json&quot;, here must be &quot;/main/views.json&quot; and _adapter must be equal to &quot;vis.0&quot;. options object optional user context callback function return result function (err, filesOrDirs) { // filesOrDirs is array with elements like // { // file: 'views.json, // stats: node.js stats object like https://nodejs.org/api/fs.html#fs_class_fs_stats , // isDir: true/false, // acl: access control list object, // modifiedAt: time when modified, // createdAt: time when created // } } readFile(_adapter, filename, data, options, callback) Write file to DB. This function writes the content of one file into DB for given adapter and file name. adapter.writeFile('vis.0', '/main/vis-views.json', function (err, data) { // All enums if (err) adapter.log.error('Cannot read file: ' + err); console.log('Content of file is: ' + data); }); Parameters: Name Type Description _adapter string adapter name. If adapter name is null, so the name (not instance) of current adapter will be taken. filename string path to file without adapter name. E.g. If you want to read &quot;/vis.0/main/views.json&quot;, here must be &quot;/main/views.json&quot; and _adapter must be equal to &quot;vis.0&quot;. data object data as UTF8 string or buffer depends on the file extension. options object optional user context callback function return result function (err) { } &lt;/code&gt;&lt;/pre&gt; readFile(_adapter, filename, options, callback) Read file from DB. This function reads the content of one file from DB for given adapter and file name. adapter.readFile('vis.0', '/main/vis-views.json', function (err, data) { // All enums if (err) adapter.log.error('Cannot read file: ' + err); console.log('Content of file is: ' + data); }); Parameters: Name Type Description _adapter string adapter name. If adapter name is null, so the name (not instance) of current adapter will be taken. filename string path to file without adapter name. E.g. If you want to read &quot;/vis.0/main/views.json&quot;, here must be &quot;/main/views.json&quot; and _adapter must be equal to &quot;vis.0&quot;. options object optional user context callback function return result function (err, data) { // data is utf8 or binary Buffer depends on the file extension. } sendTo(instanceName, command, message, callback) Send message to other adapter instance or all instances of adapter. This function sends a message to specific instance or all instances of some specific adapter. If no instance given (e.g. &quot;pushover&quot;), the callback argument will be ignored. Because normally many responses will come. Parameters: Name Type Description instanceName string name of the instance where the message must be send to. E.g. &quot;pushover.0&quot; or &quot;system.adapter.pushover.0&quot;. command string command name, like &quot;send&quot;, &quot;browse&quot;, &quot;list&quot;. Command is depend on target adapter implementation. message object object that will be given as argument for request callback function optional return result function (result) { // result is target adapter specific and can vary from adapter to adapter if (!result) adapter.log.error('No response received'); } sendToHost(hostName, command, message, callback) Send message to specific host or to all hosts. This function sends a message to specific host or all hosts. If no host name given (e.g. null), the callback argument will be ignored. Because normally many responses will come. Parameters: Name Type Description hostName string name of the host where the message must be send to. E.g. &quot;myPC&quot; or &quot;system.host.myPC&quot;. If argument is empty, the message will be sent to all hosts. command string command name. One of: &quot;cmdExec&quot;, &quot;getRepository&quot;, &quot;getInstalled&quot;, &quot;getVersion&quot;, &quot;getDiagData&quot;, &quot;getLocationOnDisk&quot;, &quot;getDevList&quot;, &quot;getLogs&quot;, &quot;delLogs&quot;, &quot;readDirAsZip&quot;, &quot;writeDirAsZip&quot;, &quot;readObjectsAsZip&quot;, &quot;writeObjectsAsZip&quot;, &quot;checkLogging&quot;. Commands can be checked in controller.js (function processMessage) message object object that will be given as argument for request callback function optional return result function (result) { // result is target adapter specific and can vary from command to command if (!result) adapter.log.error('No response received'); } setForeignObject(id, obj, options, callback) Same as Adapter.setObject, but for any object. ID must be specified as a full name with adapter namespace. E.g &quot;hm-rpc.0.ABC98989.1.STATE&quot; Parameters: Name Type Description id string object ID, that must be overwritten or created. obj object new object options object optional user context callback function return result function (err, obj) { // obj is {id: id} if (err) adapter.log.error('Cannot write object: ' + err); } setForeignObjectNotExists(id, obj, options, callback) Same as Adapter.setForeignObject, but with check if the object exists. ID must be specified as a full name with adapter namespace. E.g &quot;hm-rpc.0.ABC98989.1.STATE&quot;. New object will be created only if no object exists with such ID. Parameters: Name Type Description id string object ID, that must be overwritten or created. obj object new object options object optional user context callback function return result function (err, obj) { // obj is {id: id} if (err) adapter.log.error('Cannot write object: ' + err); } setForeignState(id, state, ack, options, callback) Writes value into states DB for any instance. This function can write values into states DB for all instances and system states too. ack, options and callback are optional Parameters: Name Type Description id string object ID of the state. state object | string | number | boolean simple value or object with attribues. If state is object, so the ack will be ignored and must be included into object. { val: value, ack: true|false, // default - false; is command(false) or status(true) ts: timestampMS, // default - now q: qualityAsNumber, // default - 0 (ok) from: origin, // default - this adapter c: comment, // default - empty expire: expireInSeconds // default - 0 } ack boolean optional is command(false) or status(true) options object optional user context callback function optional return error and id function (err, id) { if (err) adapter.log.error('Cannot set value for &quot;' + id + '&quot;: ' + err); } setForeignStateChanged(id, state, ack, options, callback) Writes value into states DB for any instance, but only if state changed. This function can write values into states DB for all instances and system states too. ack, options and callback are optional Parameters: Name Type Description id string object ID of the state. state object | string | number | boolean simple value or object with attribues. If state is object and ack exists too as function argument, function argument has priority. { val: value, ack: true|false, // default - false; is command(false) or status(true) ts: timestampMS, // default - now q: qualityAsNumber, // default - 0 (ok) from: origin, // default - this adapter c: comment, // default - empty expire: expireInSeconds // default - 0 } ack boolean optional is command(false) or status(true) options object optional user context callback function optional return error and id function (err, id) { if (err) adapter.log.error('Cannot set value for &quot;' + id + '&quot;: ' + err); } setObject(id, obj, options, callback) Creates or overwrites object in objectDB. This function can create or overwrite objects in objectDB for this adapter. Only Ids that belong to this adapter can be modified. So the function automatically adds &quot;adapter.X.&quot; to ID. common, native and type attributes are mandatory and it will be checked. Additionally type &quot;state&quot; requires role, type and name, e.g.: { common: { name: 'object name', type: 'number', // string, boolean, object, mixed, array role: 'value' // see https://github.com/ioBroker/ioBroker/blob/master/doc/SCHEMA.md#state-commonrole }, native: {}, type: 'state' // channel, device } Parameters: Name Type Description id string object ID, that must be overwritten or created. obj object new object options object optional user context callback function return result function (err, obj) { // obj is {id: id} if (err) adapter.log.error('Cannot write object: ' + err); } setObjectNotExists(id, obj, options, callback) Same as Adapter.setObject, but with check if the object exists. ID must be specified as a full name with adapter namespace. E.g &quot;hm-rpc.0.ABC98989.1.STATE&quot;. New object will be created only if no object exists with such ID. Parameters: Name Type Description id string object ID, that must be overwritten or created. obj object new object options object optional user context callback function return result function (err, obj) { // obj is {id: id} if (err) adapter.log.error('Cannot write object: ' + err); } setPassword(user, pw, options, callback) sets the user's password Parameters: Name Type Description user string user name as text pw string password as text options object optional user context callback function return result function (err) { if (err) adapter.log.error('Cannot set password: ' + err); } setState(id, state, ack, options, callback) Writes value into states DB. This function can write values into states DB for this adapter. Only Ids that belong to this adapter can be modified. So the function automatically adds &quot;adapter.X.&quot; to ID. ack, options and callback are optional Parameters: Name Type Description id string object ID of the state. state object | string | number | boolean simple value or object with attribues. If state is object and ack exists too as function argument, function argument has priority. { val: value, ack: true|false, // default - false; is command(false) or status(true) ts: timestampMS, // default - now q: qualityAsNumber, // default - 0 (ok) from: origin, // default - this adapter c: comment, // default - empty expire: expireInSeconds // default - 0 } ack boolean optional is command(false) or status(true) options object optional user context callback function optional return error and id function (err, id) { if (err) adapter.log.error('Cannot set value for &quot;' + id + '&quot;: ' + err); } setStateChanged(id, state, ack, options, callback) Writes value into states DB only if the value really changed. This function can write values into states DB for this adapter. Only Ids that belong to this adapter can be modified. So the function automatically adds &quot;adapter.X.&quot; to ID. ack, options and callback are optional Parameters: Name Type Description id string object ID of the state. state object | string | number | boolean simple value or object with attribues. ack boolean optional is command(false) or status(true) options object optional user context callback function optional return error, id and notChanged function (err, id, notChanged) { if (err) adapter.log.error('Cannot set value for &quot;' + id + '&quot;: ' + err); if (!notChanged) adapter.log.debug('Value was changed'); } subscribeForeignObjects(pattern, options, callback) Subscribe for the changes of objects in any instance. Parameters: Name Type Description pattern string pattern like 'channel.' or '' (all objects) - without namespaces options object optional user context callback function optional returns result function (err) { if (err) adapter.log.error('Cannot subscribe object: ' + err); } subscribeForeignStates(pattern, options, callback) Subscribe for changes on all states of all adapters (and system states), that pass the pattern Allows to Subscribe on changes all states of all instances according to pattern. E.g. to read all states of 'adapterName.X' instance use: adapter.subscribeForeignStates('adapterName.X.*'); Parameters: Name Type Description pattern string string in form 'adapter.0.*' or like this. It can be array of IDs too. options object optional argument to describe the user context callback function return result function (err) {} subscribeObjects(pattern, options, callback) Subscribe for the changes of objects in this instance. * Parameters: Name Type Description pattern string pattern like 'channel.' or '' (all objects of this adapter) - without namespaces options object optional user context callback function optional returns result function (err) { if (err) adapter.log.error('Cannot subscribe object: ' + err); } subscribeStates(pattern, options, callback) Subscribe for changes on all states of this instance, that pass the pattern Allows to Subscribe on changes all states of current adapter according to pattern. To read all states of current adapter use: adapter.subscribeStates('*'); // subscribe for all states of this adapter Parameters: Name Type Description pattern string string in form 'adapter.0.*' or like this. It can be array of IDs too. options object optional argument to describe the user context callback function return result function (err) {} terminate(reason) stops the execution of adapter, but not disables it. Sometimes, the adapter must be stopped if some libraries are missing. Parameters: Name Type Description reason string optional termination description unsubscribeForeignObjects(pattern, options, callback) Unsubscribe for the patterns on all objects. Parameters: Name Type Description pattern string pattern like 'channel.' or '' (all objects) - without namespaces options object optional user context callback function optional returns result function (err) { if (err) adapter.log.error('Cannot unsubscribe object: ' + err); } unsubscribeForeignStates(pattern, options, callback) Unsubscribe for changes for given pattern This function allows to unsubsrcibe from changes. The pattern must be equal to requested one. adapter.subscribeForeignStates('adapterName.X.*'); adapter.unsubscribeForeignStates('adapterName.X.abc*'); // This will not work adapter.unsubscribeForeignStates('adapterName.X.*'); // Valid unsubscribe Parameters: Name Type Description pattern string string in form 'adapter.0.*'. Must be the same as subscribe. options object optional argument to describe the user context callback function return result function (err) {} unsubscribeObjects(pattern, options, callback) Unsubscribe on the changes of objects in this instance. Parameters: Name Type Description pattern string pattern like 'channel.' or '' (all objects) - without namespaces options object optional user context callback function optional returns result function (err) { if (err) adapter.log.error('Cannot unsubscribe object: ' + err); } unsubscribeStates(pattern, options, callback) Unsubscribe for changes for given pattern for own states. This function allows to unsubsrcibe from changes. The pattern must be equal to requested one. adapter.subscribeForeignStates('*'); adapter.unsubscribeForeignStates('abc*'); // This will not work adapter.unsubscribeForeignStates('*'); // Valid unsubscribe Parameters: Name Type Description pattern string string in form 'adapter.0.*'. Must be the same as subscribe. options object optional argument to describe the user context callback function return result function (err) {} × Search results Close Documentation generated by JSDoc 3.5.5 on 2018-08-27T15:12:39+02:00 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
