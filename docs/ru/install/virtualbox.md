---
title: установка
lastChanged: 13.09.2018
editLink: https://github.com/ioBroker/ioBroker.docs/edit/master/docs/ru/install/virtualbox.md
translatedFrom: de
translatedWarning: Если вы хотите отредактировать этот документ, удалите поле «translationFrom», в противном случае этот документ будет снова автоматически переведен
hash: VtWRmeZY9+xDVaMHS6K3m18WcJwcGA1SWlbtQ6lCYKw=
---
# Настройка и установка ioBroker в VirtualBox
?> ***Это подстановочный знак*** . <br><br> Помогите с ioBroker и расширьте эту статью. Пожалуйста, обратите внимание на [Руководство по стилю ioBroker](community/styleguidedoc), чтобы изменения могли быть легко приняты.

@@@ http://www.iobroker.net/docu/?page_id=5358&lang=en @@@

Во-первых, давайте получим текущую стабильную версию Debian https://www.debian.org/CD/http-ftp/#stable

Чуть дальше нажимаем CD под AMD64

Теперь мы загружаем "debian-8.4.0-amd64-netinst.iso". Если есть более новая версия, следует использовать это, на момент загрузки был Debian 8.4.0 Aktuell.
Я использую Netinst, потому что файл маленький, и установка освобождает только различные вещи из сети.

Затем мы создаем новую виртуальную машину и даем ей имя.
В моем примере ioBroker_Debian_Jessie_x64 recording87.jpg Затем укажите объем основной памяти, которую мы хотим выделить виртуальной машине.
В моем примере 4 ГБ оперативной памяти Aufnahme88.jpg

Нажмите на Создать запись на диск89.jpg

Выберите VDI (Virtual Image Box) Recording90.jpg

В зависимости от типа хранилища каждый решает, что он выберет.
В моем примере я использую DYNAMICALLY ALLOCATED recording91.jpg

Теперь мы все еще можем изменить имя файла виртуальной машины (если нужно) и указать размер обеспечения Partiotion для нашей виртуальной машины. В моем примере 10 ГБ Aufnahme92.jpg

Теперь виртуальная машина готова.
Если мы нажмем на ИЗМЕНИТЬ сейчас, мы сможем настроить еще несколько вещей в ВМ.

Заходим на вкладку MASS MEMORY. Нажмите ПОД КОНТРОЛЕМ: IDE

Справа под Атрибутами появляется логотип CD.
Мы нажимаем на это и выбираем ФАЙЛ ДЛЯ ВИРТУАЛЬНОГО CD / DVD носителя.
Теперь мы переходим в Explorer к загруженному ISO-файлу Debian и выбираем его.
Все это должно выглядеть так: Aufnahme93.jpg

Поскольку я хочу связаться с ioBroker в своей сети, а не в сабвуфере, я установил на вкладке СЕТЬ в разделе ПОДКЛЮЧЕНО выбор на СЕТЕВОЙ МОСТ

Теперь мы установили все необходимое.
Установка Debian может начаться.
Нажимаем на СТАРТ и приземляемся на следующей картинке.
Мы выбираем УСТАНОВИТЬ запись95.jpg

Язык: выберите НЕМЕЦКИЙ из Record96.jpg

Расположение: Выберите ГЕРМАНИЯ из Aufnahme97.jpg

Раскладка клавиатуры: выберите АНГЛИЙСКИЙ из Recording98.jpg

Имя компьютера: вводим имя компьютера для установки.
В моем примере ioBrokerVM (если кто-то хочет воспроизвести резервные копии своей производственной системы ioBroker, введите здесь тот же Nanem, ваш RasPi / Cubie / BananaPi и т. Д.) Aufnahme100.jpg

Доменное имя: поле можно оставить свободным Aufnahme101.jpg

Пароль root: ваш пароль root Aufnahme102.jpg

Повторите пароль root: снова ваш пароль root Aufnahme103.jpg

Создание пользователя: в моем примере NIPPY Recording104.jpg

Имя пользователя Создать: В моем примере NIPPY Aufnahme105.jpg

Пароль пользователя: Ваша запись пароля пользователя106.jpg

Повторите пароль пользователя: введите пароль еще раз. Recording107.jpg Часовой пояс: Мы выбираем БЕРЛИН.

Aufnahme108.jpg

Разбиение жесткого диска 1: Мы выбираем GUIDED - ИСПОЛЬЗУЕМ FULL DISK RECORD109.jpg

Разбиение жесткого диска 2: Мы выбираем наш жесткий диск Recording110.jpg

Разделение диска 3: Мы выбираем ВСЕ ФАЙЛЫ НА РАЗДЕЛЕ, РЕКОМЕНДУЕМЫЕ ДЛЯ ЗАПИСИ НАЧИНАЮЩИХ 111.jpg

Разметка жесткого диска 4: мы выбираем ВЫХОД РАЗДЕЛЕНИЯ И ПРИНЯТЬ ИЗМЕНЕНИЯ Recording112.jpg

Разбиение диска 5: выбираем ДА Recording113.jpg Диспетчер пакетов Настройка 1: выбираем ГЕРМАНИЯ Recording115.jpg

Диспетчер пакетов Настройка 2: я выбрал ftp.de.debian.org Recording116.jpg

Диспетчер пакетов Настройка 3: вы можете оставить его пустым и перейти к следующей записи118.jpg

Populary-Contest: я выбрал НЕТ Recording119.jpg

Выбор программного обеспечения: выбираем SSH SERVER & STANDARD SYSTEM TOOLS, выбираем остальные (если выбраны) Recording120.jpg

Загрузчик GRUB 1: выбираем JA Aufnahme121.jpg

GRUB Bootloader 2: мы выбираем наш HDD / dev / sda (ata-vbox .........) recording122.jpg

Установка завершена: Aufnahme123.jpg

Теперь система перезагружается и мы приземляемся в логине

Логин: Recording124.jpg

Мы входим с нашей учетной записью root: Логин: root Пароль: Ваш пароль получен Record125.jpg

Теперь мы обновляем систему: apt-get install update 1

apt-get установить обновление apt-get установить обновление 1

apt-get установить обновление

Поскольку SUDO не установлен, сделайте так: aptitude install sudo 1

способность установить sudo

Ниже приводится установка NPM: apt-get install npm 1

apt-get установить npm

Затем мы устанавливаем CURL: apt-get install curl 1

apt-get установить curl

Подготовка и установка NodeJs curl -sL https://deb.nodesource.com/setup_4.x | sudo -E bash - 1

curl -sL https://deb.nodesource.com/setup_4.x | sudo -E bash -

apt-get установить nodejs 1

apt-get установить nodejs

Когда это будет сделано, ioBroker установит

Сначала мы создаем каталог iobroker: mkdir / opt / iobroker 1

mkdir / opt / iobroker

Переходим в каталог iobroker: cd / opt / iobroker 1

cd / opt / iobroker

Теперь мы устанавливаем iobroker: npm install --unsafe-perm iobroker 1

npm install --unsafe-perm iobroker

В конце установки должно появиться следующее: Aufnahme137.jpg

—

Кто хочет, все еще может установить htop, я использую его в терминале, мне нужно загрузить память / загрузку процессора и т.д.

Это устанавливается с: apt-get install htop 1

apt-get установить htop

выполнено с: хтоп 1

HTOP

И выглядит так: Aufnahme139.jpg

Я надеюсь, что некоторые новички облегчили настройку виртуальной машины, включая ioBroker.

Для меня установка ioBroker на виртуальной машине часто заканчивалась неудачей, на BananaPi она прошла без проблем.

В любом случае, эта процедура установки прекрасно подходит для меня на виртуальной машине.

1 Дополнение: 1.1 Автоматический запуск VirtualBOX VM (Ubuntu 16.10): 1.2 Адаптируйте 3 переменные! (при необходимости закомментируйте третью переменную или добавьте больше, в зависимости от экземпляров виртуальной машины)

Дополнение: Запустите VirtualBOX VM автоматически (Ubuntu 16.10):

https://www.freesoftwareservers.com/ind ... nd-vbox-5 /

Создать файл:

sudo nano /etc/init.d/StartVM &amp; sudo chmod + x /etc/init.d/StartVM &amp; sudo update-rc.d StartVM по умолчанию 99 01 1

sudo nano /etc/init.d/StartVM &amp; sudo chmod + x /etc/init.d/StartVM &amp; sudo update-rc.d StartVM по умолчанию 99 01

Содержимое файла:

~~~ Баш

#! / Bin / ш
# Запустите VirtualBox @boot
# /etc/init.d/StartVM
#
# Редактируйте эти переменные!
VMUSER = пользователь VMNAME = VM1 VMNAME2 = тест

регистр "$ 1") echo "Запуск VirtualBox VM ..." sudo -u $ VMUSER VBoxHeadless --startvm $ VMNAME &amp; sudo -u $ VMUSER VBoxHeadless --startvm $ VMNAME2 &amp; ;; остановка) echo "Сохранение состояния виртуальной машины VM ..." *) echo "Использование: /etc/init.d/StartVM {start | stop}" exit 1 ;; ESAC

выход 0 ~~~

Отрегулируйте 3 переменные! (при необходимости закомментируйте третью переменную или добавьте больше, в зависимости от экземпляров виртуальной машины)

В BIOS (если он работает на компьютере) установите, что в случае сбоя питания, старый статус ВКЛ / ВЫКЛ должен быть восстановлен. В случае сбоя питания он затем перезапускается, и виртуальная машина также запускается.

Создавайте резервные копии с VirtualBOX и Back in Time

В VirtualBOX вы можете легко создавать точки резервного копирования вручную. Это займет всего несколько секунд и 1 клик. Всегда перед обновлением iobroker или внесением изменений в скрипт! Снимок экрана 2016-04-26 22-48-04.png

Одним щелчком мыши вы можете восстановить предыдущую версию.

Использование памяти: динамическая 10 ГБ виртуальная машина и Ubuntu 16.10 Full + iobroker занимают примерно 1,7 ГБ дискового пространства. Мои 11 снимков занимают 8,6 ГБ.

Весь мой личный кабинет, включая виртуальную директорию VirtualBOX, я копирую каждую ночь с программой «Back in Time» автоматически на второй жесткий диск. Там несколько версий хранятся и автоматически удаляются после определенного времени.
Снимок экрана 2016-04-26 22-55-23.png Это VirtualBox.

~~~ bash sudo apt-get установить virtualbox virtualbox-qt virtualbox-dkms ~~~

Вы также можете установить пакет расширений, он поддерживает, например, подключение устройств USB 2.0 или 3.0 от хоста на клиенте, передачу веб-камеры с хоста на клиент и шифрование AES. Вы можете скачать его здесь [URL: https: //www.virtualbox.org/wiki/Downloads] здесь - 2-й пункт (пакет расширений) [/ url] Загрузите этот файл и откройте его как администратор или откройте и устанавливает его через VirtualBOX / Глобальные настройки / Дополнительные пакеты (но запустите VirtualBOX от имени администратора).

Минимальные требования к оборудованию очень низкие. Вы должны выяснить для себя, как это подходит. Теоретически достаточно 512 оперативной памяти и старый процессор Intel. Например, он должен работать без проблем на всех поколениях Intel NUC.
Для непрерывной работы, конечно, важно иметь хост с низким энергопотреблением. Сегодня вы можете легко создавать мощные компьютеры мощностью менее 10 Вт. В Интернете есть различные инструкции для 10-ваттных ПК. Важно, чтобы каждый обходился без (собственной) видеокарты, имел эффективный блок питания в диапазоне низких нагрузок и не использовал материнскую плату высокого класса, потому что чем больше у него функций, тем больше микросхем засасывало поток.
Я действительно могу порекомендовать серию Intel NUC для Windows или Ubuntu. Позвольте мне процитировать мою подпись: iobroker в виртуальной машине Ubuntu с VirtualBOX на Intel NUC Nuc6i3SYH (i3 Skylake), M.2 SSD, 8 ГБ RAM, Ubuntu 16.10. 6-8 Вт на холостом ходу.

В Virtualbox у меня установлена сетевая карта Vm «Bridged», так что виртуальная машина висит на маршрутизаторе LAN, так сказать, как отдельный компьютер.

И фиксированный IP-адрес устанавливается в рамках обычной виртуальной машины через установленную операционную систему.
Это может работать так с Debian:

терминал:

~~~ bash sudo nano / etc / network / interfaces ~~~

Может быть что-то вроде этого: ~~~ auto eth0 allow-hotplug eth0 iface eth0 inet dhcp ~~~

Вы измените это на (Внимание, настройте числа в соответствии со своей средой)

~~~ auto eth0 iface eth0 inet статический адрес 192.168.1.7 маска сети 255.255.255.0 шлюз 192.168.1.1 ~~~

Где eth0 - это имя вашего собственного устройства локальной сети, оно может отличаться в виртуальной машине, поэтому при внесении изменения вам придется заменить два слова eth0 на правильные имена.