{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "definitions": {
    "multilingual": {
      "type": "object",
      "required": [
        "en"
      ],
      "patternProperties": {
        "en|de|ru|pt|nl|fr|it|es|pl|uk|zh-cn": {
          "type": "string"
        }
      },
      "additionalProperties": false
    },
    "iobrokerObject": {
      "type": "object",
      "required": [
        "_id",
        "type"
      ],
      "properties": {
        "_id": {
          "type": "string"
        },
        "type": {
          "type": "string"
        },
        "common": {
          "type": "object"
        }
      }
    },
    "isCompactTrue": {
      "properties": {
        "compact": {
          "const": true
        }
      },
      "required": [
        "compact"
      ]
    },
    "disallowNodeProcessParams": {
      "not": {
        "required": [
          "nodeProcessParams"
        ]
      }
    },
    "license": {
      "description": "The license this software is published under.",
      "type": "string",
      "enum": [
        "Qhull",
        "NOSL",
        "CC-BY-ND-2.5",
        "O-UDA-1.0",
        "DRL-1.0",
        "ImageMagick",
        "mpich2",
        "CC-BY-SA-4.0",
        "SPL-1.0",
        "McPhee-slideshow",
        "MIT-enna",
        "OSL-2.1",
        "GFDL-1.2-or-later",
        "BSD-3-Clause-LBNL",
        "OFL-1.0-RFN",
        "Watcom-1.0",
        "MPL-1.0",
        "Aladdin",
        "etalab-2.0",
        "copyleft-next-0.3.0",
        "NLPL",
        "mplus",
        "ECL-1.0",
        "fwlw",
        "BlueOak-1.0.0",
        "JPNIC",
        "AFL-3.0",
        "CC-BY-NC-SA-2.0-FR",
        "GFDL-1.3-invariants-or-later",
        "CFITSIO",
        "GPL-1.0-only",
        "XSkat",
        "CC-BY-ND-2.0",
        "CC-BY-SA-3.0-IGO",
        "CC-BY-3.0-NL",
        "FSFUL",
        "HPND-export-US",
        "CATOSL-1.1",
        "ZPL-2.1",
        "CC-BY-NC-SA-2.0-DE",
        "OGL-UK-1.0",
        "BSD-3-Clause-No-Nuclear-Warranty",
        "TU-Berlin-2.0",
        "Saxpath",
        "ZPL-2.0",
        "Bitstream-Charter",
        "OpenSSL",
        "ClArtistic",
        "MPL-2.0-no-copyleft-exception",
        "X11",
        "FSFULLR",
        "CC-BY-4.0",
        "CC-BY-SA-3.0-DE",
        "CC-BY-SA-2.5",
        "MPEG-SSG",
        "LPPL-1.0",
        "FreeImage",
        "CERN-OHL-1.2",
        "Artistic-1.0-cl8",
        "LZMA-SDK-9.22",
        "BSD-3-Clause-No-Nuclear-License-2014",
        "CC-BY-ND-3.0-DE",
        "Afmparse",
        "CERN-OHL-S-2.0",
        "DOC",
        "GL2PS",
        "YPL-1.1",
        "GFDL-1.2-only",
        "CC-BY-NC-ND-3.0",
        "OFL-1.0-no-RFN",
        "Sendmail",
        "AGPL-3.0-only",
        "CECILL-2.0",
        "MIT-advertising",
        "snprintf",
        "CC-BY-ND-3.0",
        "CC-BY-2.5-AU",
        "NAIST-2003",
        "NBPL-1.0",
        "Ruby",
        "HPND-doc",
        "OSL-2.0",
        "GPL-2.0-only",
        "SMPPL",
        "LZMA-SDK-9.11-to-9.20",
        "OLDAP-2.6",
        "Parity-7.0.0",
        "Clips",
        "Symlinks",
        "OLDAP-1.1",
        "NICTA-1.0",
        "python-ldap",
        "LiLiQ-Rplus-1.1",
        "BSD-2-Clause-Patent",
        "CC-BY-SA-1.0",
        "LGPL-2.0-or-later",
        "Intel-ACPI",
        "CERN-OHL-P-2.0",
        "SSH-short",
        "Kazlib",
        "TOSL",
        "GLWTPL",
        "BSD-3-Clause-Modification",
        "OLDAP-2.2",
        "BSD-3-Clause-No-Nuclear-License",
        "TORQUE-1.1",
        "PSF-2.0",
        "CDDL-1.1",
        "CDL-1.0",
        "OSET-PL-2.1",
        "EUPL-1.2",
        "CAL-1.0",
        "OPL-UK-3.0",
        "Cronyx",
        "GFDL-1.1-or-later",
        "AFL-2.1",
        "AFL-1.2",
        "FDK-AAC",
        "BSD-1-Clause",
        "psfrag",
        "OFL-1.1-RFN",
        "CECILL-1.0",
        "TCP-wrappers",
        "CC-BY-NC-ND-2.0",
        "APL-1.0",
        "Knuth-CTAN",
        "MIT-testregex",
        "OSL-3.0",
        "Linux-man-pages-copyleft-2-para",
        "OLDAP-2.0.1",
        "Beerware",
        "Apache-2.0",
        "CAL-1.0-Combined-Work-Exception",
        "BSD-3-Clause-Sun",
        "MakeIndex",
        "GFDL-1.1-no-invariants-only",
        "UCL-1.0",
        "NASA-1.3",
        "IJG",
        "Xfig",
        "Noweb",
        "Mup",
        "CC-BY-2.0",
        "ODC-By-1.0",
        "blessing",
        "SSH-OpenSSH",
        "CC-BY-NC-2.0",
        "LPPL-1.2",
        "GFDL-1.3-invariants-only",
        "GFDL-1.2-no-invariants-only",
        "OFL-1.0",
        "SISSL-1.2",
        "TPL-1.0",
        "lsof",
        "AGPL-1.0-or-later",
        "MITNFA",
        "metamail",
        "Imlib2",
        "AFL-2.0",
        "EUPL-1.0",
        "AAL",
        "ssh-keyscan",
        "Soundex",
        "W3C-19980720",
        "W3C",
        "BitTorrent-1.1",
        "Spencer-99",
        "Sleepycat",
        "DL-DE-ZERO-2.0",
        "BSD-3-Clause",
        "BSD-4-Clause-Shortened",
        "SHL-0.51",
        "LGPL-2.1-only",
        "Parity-6.0.0",
        "MIT-0",
        "CC-PDDC",
        "ulem",
        "xinetd",
        "Linux-man-pages-1-para",
        "OLDAP-2.8",
        "OML",
        "ICU",
        "SGI-B-2.0",
        "ANTLR-PD-fallback",
        "dvipdfm",
        "EPL-2.0",
        "OLDAP-1.3",
        "Linux-man-pages-copyleft",
        "OFL-1.1-no-RFN",
        "ISC",
        "GFDL-1.1-invariants-only",
        "Adobe-2006",
        "CC-BY-NC-ND-1.0",
        "DSDP",
        "D-FSL-1.0",
        "SHL-0.5",
        "SchemeReport",
        "MulanPSL-1.0",
        "NTP",
        "Jam",
        "CC-BY-SA-2.0-UK",
        "BSD-3-Clause-Attribution",
        "Lucida-Bitmap-Fonts",
        "Zimbra-1.4",
        "CUA-OPL-1.0",
        "BSD-2-Clause",
        "Community-Spec-1.0",
        "OLDAP-2.0",
        "diffmark",
        "Abstyles",
        "Zeeff",
        "Brian-Gladman-3-Clause",
        "Bitstream-Vera",
        "Naumen",
        "SGI-OpenGL",
        "CC-BY-SA-2.1-JP",
        "CC-BY-ND-4.0",
        "MIT-Wu",
        "gnuplot",
        "SAX-PD",
        "HPND-doc-sell",
        "BitTorrent-1.0",
        "HP-1989",
        "OCLC-2.0",
        "MS-LPL",
        "Artistic-2.0",
        "GFDL-1.2-invariants-or-later",
        "JSON",
        "checkmk",
        "CC-BY-NC-SA-4.0",
        "Graphics-Gems",
        "GD",
        "0BSD",
        "MIT",
        "OCCT-PL",
        "LGPL-3.0-only",
        "AdaCore-doc",
        "CC-BY-NC-3.0",
        "Spencer-94",
        "HTMLTIDY",
        "GFDL-1.2-no-invariants-or-later",
        "BSD-4.3TAHOE",
        "Giftware",
        "MPL-1.1",
        "OGDL-Taiwan-1.0",
        "OLDAP-2.7",
        "RSA-MD",
        "Ferguson-Twofish",
        "BSD-Source-Code",
        "ASWF-Digital-Assets-1.0",
        "YPL-1.0",
        "OLDAP-2.1",
        "Glulxe",
        "PostgreSQL",
        "Fair",
        "APSL-1.0",
        "GPL-1.0-or-later",
        "libutil-David-Nugent",
        "SCEA",
        "BSD-3-Clause-No-Military-License",
        "Xnet",
        "MIT-feh",
        "AGPL-1.0-only",
        "Nokia",
        "Cornell-Lossless-JPEG",
        "swrule",
        "OSL-1.1",
        "EPL-1.0",
        "XFree86-1.1",
        "UCAR",
        "copyleft-next-0.3.1",
        "IJG-short",
        "Plexus",
        "Apache-1.1",
        "UPL-1.0",
        "HPND-DEC",
        "HP-1986",
        "GFDL-1.1-only",
        "QPL-1.0",
        "libpng-2.0",
        "Zlib",
        "GFDL-1.3-or-later",
        "CERN-OHL-1.1",
        "SugarCRM-1.1.3",
        "VSL-1.0",
        "NRL",
        "Zend-2.0",
        "OGL-Canada-2.0",
        "EUDatagrid",
        "MulanPSL-2.0",
        "Newsletr",
        "BSD-4-Clause-UC",
        "PolyForm-Small-Business-1.0.0",
        "MirOS",
        "Adobe-Utopia",
        "GFDL-1.1-no-invariants-or-later",
        "RPL-1.5",
        "TMate",
        "libtiff",
        "GPL-3.0-only",
        "CC-BY-SA-3.0",
        "Unicode-DFS-2016",
        "CC-BY-NC-3.0-DE",
        "NPL-1.0",
        "eGenix",
        "PolyForm-Noncommercial-1.0.0",
        "Crossword",
        "IEC-Code-Components-EULA",
        "HPND",
        "EFL-1.0",
        "OLDAP-1.4",
        "MMIXware",
        "OpenPBS-2.3",
        "Unicode-TOU",
        "CC-BY-3.0-DE",
        "EUPL-1.1",
        "SL",
        "Motosoto",
        "Caldera",
        "BSD-Inferno-Nettverk",
        "TAPR-OHL-1.0",
        "CC-BY-NC-SA-3.0",
        "CC-BY-NC-SA-1.0",
        "BSD-3-Clause-Open-MPI",
        "CC-BY-1.0",
        "PHP-3.01",
        "PADL",
        "AFL-1.1",
        "MIT-CMU",
        "BSD-3-Clause-flex",
        "ODbL-1.0",
        "CC-BY-NC-4.0",
        "Python-2.0.1",
        "IPA",
        "AML",
        "libselinux-1.0",
        "CC-BY-3.0-AT",
        "QPL-1.0-INRIA-2004",
        "GFDL-1.1-invariants-or-later",
        "Rdisc",
        "BSD-Attribution-HPND-disclaimer",
        "Xerox",
        "LPPL-1.1",
        "OGL-UK-3.0",
        "Minpack",
        "APSL-1.2",
        "Eurosym",
        "BSD-Advertising-Acknowledgement",
        "CC-BY-NC-SA-2.0-UK",
        "X11-distribute-modifications-variant",
        "w3m",
        "pnmstitch",
        "CPAL-1.0",
        "SISSL",
        "LiLiQ-R-1.1",
        "CC-BY-NC-SA-2.0",
        "Unlicense",
        "Linux-OpenIB",
        "LOOP",
        "CDLA-Sharing-1.0",
        "CC-BY-3.0",
        "OLDAP-2.4",
        "CMU-Mach",
        "LiLiQ-P-1.1",
        "LGPL-2.0-only",
        "APAFML",
        "Entessa",
        "CNRI-Python",
        "OGC-1.0",
        "HPND-UC",
        "CC-BY-3.0-IGO",
        "MTLL",
        "HPND-Markus-Kuhn",
        "CC-BY-NC-ND-3.0-IGO",
        "MS-RL",
        "AMDPLPA",
        "LAL-1.2",
        "OLDAP-2.2.1",
        "curl",
        "OLDAP-1.2",
        "Inner-Net-2.0",
        "TermReadKey",
        "Artistic-1.0",
        "CECILL-1.1",
        "IPL-1.0",
        "LPL-1.02",
        "Baekmuk",
        "NLOD-1.0",
        "Sendmail-8.23",
        "NGPL",
        "SSPL-1.0",
        "NCSA",
        "CC0-1.0",
        "CECILL-C",
        "Furuseth",
        "JasPer-2.0",
        "LGPL-3.0-or-later",
        "Libpng",
        "Linux-man-pages-copyleft-var",
        "OLDAP-2.2.2",
        "FreeBSD-DOC",
        "CC-BY-NC-ND-3.0-DE",
        "NIST-PD-fallback",
        "Widget-Workshop",
        "RPL-1.1",
        "ASWF-Digital-Assets-1.1",
        "Net-SNMP",
        "CC-BY-NC-SA-2.5",
        "Unicode-DFS-2015",
        "Intel",
        "SGP4",
        "Zimbra-1.3",
        "OGTSL",
        "PDDL-1.0",
        "UnixCrypt",
        "CERN-OHL-W-2.0",
        "GFDL-1.3-only",
        "CC-BY-NC-2.5",
        "ErlPL-1.1",
        "magaz",
        "Borceux",
        "App-s2p",
        "CC-BY-NC-ND-4.0",
        "CECILL-2.1",
        "OGL-UK-2.0",
        "BSD-Protection",
        "CECILL-B",
        "BSD-Systemics",
        "OSL-1.0",
        "EPICS",
        "GFDL-1.3-no-invariants-only",
        "RPSL-1.0",
        "CPL-1.0",
        "EFL-2.0",
        "NPL-1.1",
        "Cube",
        "HPND-sell-regexpr",
        "CC-BY-NC-SA-3.0-DE",
        "AMPAS",
        "NLOD-2.0",
        "TTWL",
        "SWL",
        "MIT-Modern-Variant",
        "FSFULLRWD",
        "NCGL-UK-2.0",
        "NTP-0",
        "SGI-B-1.0",
        "BSD-3-Clause-HP",
        "CNRI-Python-GPL-Compatible",
        "CDLA-Permissive-1.0",
        "CC-BY-NC-SA-3.0-IGO",
        "OPL-1.0",
        "Frameworx-1.0",
        "Zed",
        "RHeCos-1.1",
        "Boehm-GC",
        "Martin-Birgmeier",
        "CC-BY-SA-3.0-AT",
        "LGPL-2.1-or-later",
        "W3C-20150513",
        "Kastrup",
        "MPL-2.0",
        "CPOL-1.02",
        "Vim",
        "zlib-acknowledgement",
        "MIT-open-group",
        "iMatix",
        "MIT-Festival",
        "URT-RLE",
        "C-UDA-1.0",
        "ZPL-1.1",
        "CrystalStacker",
        "CC-BY-NC-ND-2.5",
        "CC-BY-NC-1.0",
        "GFDL-1.2-invariants-only",
        "HPND-sell-variant-MIT-disclaimer",
        "MS-PL",
        "HPND-Pbmplus",
        "OFL-1.1",
        "Leptonica",
        "SunPro",
        "WTFPL",
        "CDDL-1.0",
        "OFFIS",
        "Latex2e",
        "GFDL-1.3-no-invariants-or-later",
        "xpp",
        "LPPL-1.3c",
        "xlock",
        "DL-DE-BY-2.0",
        "VOSTROM",
        "APSL-1.1",
        "ECL-2.0",
        "bzip2-1.0.6",
        "Xdebug-1.03",
        "PHP-3.0",
        "TCL",
        "SGI-B-1.1",
        "Python-2.0",
        "APSL-2.0",
        "Wsuipa",
        "Apache-1.0",
        "BSL-1.0",
        "ANTLR-PD",
        "LAL-1.3",
        "HPND-export-US-modify",
        "Arphic-1999",
        "Dotseqn",
        "Info-ZIP",
        "psutils",
        "NIST-PD",
        "GPL-2.0-or-later",
        "BSD-4.3RENO",
        "HPND-sell-variant",
        "CNRI-Jython",
        "COIL-1.0",
        "FSFAP",
        "LPL-1.0",
        "OLFL-1.3",
        "Adobe-Glyph",
        "NIST-Software",
        "TTYP0",
        "LGPLLR",
        "CC-BY-ND-1.0",
        "Elastic-2.0",
        "FBM",
        "LPPL-1.3a",
        "AGPL-3.0-or-later",
        "Barr",
        "CDLA-Permissive-2.0",
        "GPL-3.0-or-later",
        "NetCDF",
        "Bahyph",
        "CC-BY-3.0-US",
        "dtoa",
        "CC-BY-2.5",
        "Condor-1.1",
        "check-cvs",
        "mpi-permissive",
        "RSCPL",
        "Latex2e-translated-notice",
        "TU-Berlin-1.0",
        "SMLNJ",
        "TPDL",
        "Multics",
        "BSD-4-Clause",
        "BSD-2-Clause-Views",
        "Glide",
        "OPUBL-1.0",
        "CC-BY-SA-2.0",
        "HaskellReport",
        "JPL-image",
        "IBM-pibs",
        "FTL",
        "SNIA",
        "Hippocratic-2.1",
        "SimPL-2.0",
        "BSD-3-Clause-Clear",
        "Spencer-86",
        "BUSL-1.1",
        "ADSL",
        "OLDAP-2.3",
        "Interbase-1.0",
        "OLDAP-2.5",
        "Artistic-1.0-Perl",
        "gSOAP-1.3b",
        "NPOSL-3.0"
      ]
    }
  },
  "type": "object",
  "required": [
    "common"
  ],
  "additionalProperties": false,
  "properties": {
    "$schema": {
      "description": "JSON schema for validation",
      "type": "string"
    },
    "common": {
      "required": [
        "name",
        "version",
        "platform",
        "tier",
        "titleLang",
        "news",
        "desc",
        "mode"
      ],
      "additionalProperties": false,
      "description": "Contains all common instance attributes",
      "type": "object",
      "properties": {
        "name": {
          "description": "Name of the adapter without ioBroker",
          "type": "string",
          "pattern": "^(?![i|I][o|O][b|B][r|R][o|O][k|K][e|E][r|R])"
        },
        "version": {
          "description": "Current adapter version",
          "type": "string",
          "pattern": "^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$"
        },
        "platform": {
          "description": "Platform, normally Javascript/Node.js",
          "type": "string",
          "enum": [
            "Javascript/Node.js"
          ]
        },
        "title": {
          "description": "Longer name of adapter DEPRECATED: For admin version >= 5 this property is no longer required",
          "type": "string"
        },
        "titleLang": {
          "description": "Longer name of adapter in all supported languages like {en: 'Adapter', de: 'adapter', ru: 'Драйвер'}",
          "$ref": "#/definitions/multilingual"
        },
        "news": {
          "description": "Short form of changelog in all supported languages",
          "type": "object",
          "minProperties": 1,
          "maxProperties": 20,
          "patternProperties": {
            "^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$": {
              "$ref": "#/definitions/multilingual"
            }
          },
          "additionalProperties": false
        },
        "desc": {
          "description": "Description, object for multilingual description",
          "$ref": "#/definitions/multilingual"
        },
        "messagebox": {
          "description": "true if messagebox supported. Hence, the adapter can receive sendTo messages. Up from controller v5, please use common.supportedMessages.custom = true",
          "type": "boolean"
        },
        "blockedVersions": {
          "description": "Array which lists all blocked versions. Blocked versions will not be started. Use semver notation to specify the version ranges. The information is always used from the io-package.json in the GitHub repository.",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "supportedMessages": {
          "description": "Object which defines, if the adapter supports receiving messages via sendTo. Additionally, it defines if specific messages are supported.",
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "custom": {
              "description": "If custom messages are supported (same as legacy messagebox)",
              "type": "boolean"
            },
            "deviceManager": {
              "description": "If adapter supports the device manager and thus responds to the corresponding messages",
              "type": "boolean"
            },
            "notifications": {
              "description": "If notification handling is supported, for information, see https://github.com/foxriver76/ioBroker.notification-manager#requirements-for-messaging-adapters",
              "type": "boolean"
            },
            "stopInstance": {
              "description": "If adapter supports signal stopInstance. Use number if you need more than 1000 ms for stop routine. The signal will be sent before stop to the adapter. (used if problems occurred with SIGTERM). (Same as legacy `supportStopInstance`)",
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "number",
                  "multipleOf": 1,
                  "minimum": 1000
                }
              ]
            },
            "getHistory": {
              "description": "If adapter supports getHistory message. (Same as legacy `getHistory`, to avoid problems, set both flags in parallel for now)",
              "type": "boolean"
            }
          }
        },
        "readme": {
          "description": "Url of the ReadMe file",
          "type": "string"
        },
        "adminUI": {
          "description": "Type of the admin UI",
          "type": "object",
          "additionalProperties": false,
          "required": [
            "config"
          ],
          "properties": {
            "custom": {
              "description": "UI type of custom tab inside admin UI",
              "type": "string",
              "const": "json"
            },
            "config": {
              "description": "UI type of config page inside admin UI",
              "type": "string",
              "enum": [
                "html",
                "json",
                "materialize",
                "none"
              ]
            },
            "tab": {
              "description": "UI type of tab inside admin UI",
              "type": "string",
              "enum": [
                "html",
                "materialize"
              ]
            }
          }
        },
        "automaticUpgrade": {
          "description": "Automatically upgrade the adapter in the configured semver range. Best practice is to leave this as none and let the user opt-in.",
          "type": "string",
          "enum": [
            "none",
            "patch",
            "minor",
            "major"
          ]
        },
        "docs": {
          "description": "The structure like {\"en\": \"docs/en/README.md\", \"de\": [\"docs/de/README.md\", \"docs/de/README1.md\"]} that describes the documentation if not in README.md",
          "type": "object",
          "required": [
            "en"
          ],
          "patternProperties": {
            "en|de|ru|pt|nl|fr|it|es|pl|uk|zh-cn": {
              "type": [
                "string",
                "array"
              ],
              "minItems": 1,
              "items": {
                "type": "string"
              }
            }
          },
          "additionalProperties": false
        },
        "authors": {
          "description": "Array of authors as string",
          "type": "array",
          "minItems": 1,
          "items": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "name"
                ],
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "email": {
                    "type": "string"
                  }
                }
              }
            ]
          }
        },
        "license": {
          "description": "License of the software",
          "oneOf": [
            {
              "$ref": "#/definitions/license"
            },
            {
              "type": "object",
              "properties": {
                "license": {
                  "$ref": "#/definitions/license"
                },
                "type": {
                  "description": "Use 'paid' for adapters which do not work without a paid license. Use 'commercial' for adapters which require a license for commercial use only. Use 'limited' if some functionalities are not available without a paid license.",
                  "type": "string",
                  "enum": [
                    "free",
                    "paid",
                    "commercial",
                    "limited"
                  ]
                },
                "link": {
                  "description": "Hyperlink, where information about the license can be found. This is required if the license type is different from 'free'.",
                  "type": "string",
                  "pattern": "^https://.+$"
                }
              },
              "additionalProperties": false,
              "required": [
                "type"
              ],
              "if": {
                "properties": {
                  "type": {
                    "enum": [
                      "paid",
                      "commercial",
                      "limited"
                    ]
                  }
                }
              },
              "then": {
                "properties": {
                  "test": {
                    "type": "string"
                  }
                },
                "required": [
                  "link"
                ]
              }
            }
          ]
        },
        "type": {
          "description": "Type of the adapter",
          "type": "string",
          "enum": [
            "alarm",
            "climate-control",
            "communication",
            "date-and-time",
            "energy",
            "metering",
            "garden",
            "general",
            "geoposition",
            "hardware",
            "health",
            "household",
            "infrastructure",
            "iot-systems",
            "lighting",
            "logic",
            "messaging",
            "misc-data",
            "multimedia",
            "network",
            "protocols",
            "storage",
            "utility",
            "vehicle",
            "visualization",
            "visualization-icons",
            "visualization-widgets",
            "weather"
          ]
        },
        "unsafePerm": {
          "description": "if the package must be installed with \"npm --unsafe-perm\" parameter",
          "type": "boolean"
        },
        "plugins": {
          "description": "ioBroker plugins to be used",
          "type": "object"
        },
        "adminColumns": {
          "description": "Custom attributes, that must be shown in admin in the object browser. Like: [{\"name\": {\"en\": \"KNX address\"}, \"path\": \"native.address\", \"width\": 100, \"align\": \"left\"}, {\"name\": \"DPT\", \"path\": \"native.dpt\", \"width\": 100, \"align\": \"right\", \"type\": \"number\", \"edit\": true, \"objTypes\": [\"state\", \"channel\"]}]. type is a type of the attribute (e.g. string, number, boolean) and only needed if edit is enabled. objTypes is a list of the object types, that could have such attribute. Used only in edit mode too.",
          "type": "array",
          "minItems": 1,
          "items": {
            "type": "object",
            "required": [
              "name",
              "path",
              "width",
              "align"
            ],
            "properties": {
              "name": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/definitions/multilingual"
                  }
                ]
              },
              "path": {
                "type": "string"
              },
              "width": {
                "type": "number",
                "minimum": 0
              },
              "align": {
                "type": "string",
                "enum": [
                  "left",
                  "right",
                  "center",
                  "justify"
                ]
              },
              "type": {
                "type": "string"
              },
              "edit": {
                "type": "boolean"
              },
              "objTypes": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            }
          }
        },
        "adminTab": {
          "description": "Adds a Tab which can be shown in admin adapter",
          "type": "object",
          "required": [
            "fa-icon",
            "link",
            "name"
          ],
          "additionalProperties": false,
          "properties": {
            "fa-icon": {
              "description": "Font-Awesome icon name for TAB",
              "type": "string"
            },
            "ignoreConfigUpdate": {
              "description": "Do not update config TAB if configuration changed (to enable configure settings in TAB)",
              "type": "boolean"
            },
            "link": {
              "description": "Link for iframe in the TAB. You can use parameters replacement like this: \"https://%ip%:%port%\". IP will be replaced with host IP. \"port\" will be extracted from native.port.",
              "type": "string"
            },
            "name": {
              "description": "Name of TAB (multilingual object) in admin",
              "$ref": "#/definitions/multilingual"
            },
            "singleton": {
              "description": "If true, only one TAB for all instances will be shown.",
              "type": "boolean"
            }
          }
        },
        "controller": {
          "description": "Only used by js-controller",
          "type": "boolean"
        },
        "allowInit": {
          "description": "allow for \"scheduled\" adapter to be called \"not in the time schedule\", if settings changed or adapter started. Or allow scheduled adapter start once after configuration changed and then by schedule.",
          "type": "boolean"
        },
        "availableModes": {
          "description": "values for common.mode if more than one mode is possible",
          "type": "array",
          "minItems": 1,
          "items": {
            "type": "string",
            "enum": [
              "none",
              "daemon",
              "subscribe",
              "schedule",
              "once",
              "extension"
            ]
          }
        },
        "blockly": {
          "description": "if adapter has custom blocks for blockly (admin/blockly.js required)",
          "type": "boolean"
        },
        "connectionType": {
          "description": "Type of connection to device",
          "type": "string",
          "enum": [
            "none",
            "local",
            "cloud"
          ]
        },
        "compact": {
          "description": "If compact mode supported",
          "type": "boolean"
        },
        "dataFolder": {
          "description": "Folder relative to iobroker-data where the adapter stores the data. This folder will be backed up and restored automatically. You can use variable '%INSTANCE%' in it",
          "type": "string"
        },
        "dataSource": {
          "description": "How the data will be received from device",
          "type": "string",
          "enum": [
            "none",
            "poll",
            "push",
            "assumption"
          ]
        },
        "dependencies": {
          "description": "Array like [{\"js-controller\": \">=2.0.0\"}] that describes which ioBroker modules are required for this adapter on the same host",
          "type": "array",
          "items": {
            "type": [
              "object",
              "string"
            ]
          }
        },
        "enabled": {
          "description": "Value should be false so new instances are disabled by default",
          "type": "boolean"
        },
        "eraseOnUpload": {
          "description": "erase all previous data in the directory before upload",
          "type": "boolean",
          "default": true
        },
        "extIcon": {
          "description": "Link to external icon for uninstalled adapters. Normally on GitHub",
          "type": "string"
        },
        "getHistory": {
          "description": "if adapter supports getHistory message. (Up from controller v5, please use `common.supportedMessages.getHistory`)",
          "type": "boolean"
        },
        "globalDependencies": {
          "description": "Array like [{\"admin\": \">=2.0.0\"}] that describes which ioBroker modules are required for this adapter on one of the hosts",
          "type": "array",
          "items": {
            "type": [
              "object",
              "string"
            ]
          }
        },
        "icon": {
          "description": "name of the local icon (should be located in subdirectory \"admin\")",
          "type": "string"
        },
        "keywords": {
          "description": "Similar to keywords in package.json, but can be defined in many languages.",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "localLinks": {
          "description": "Link to the web service of this adapter. E.g {\"_default\": \"http://localhost:5984/_utils\"} for button in admin",
          "type": "object",
          "patternProperties": {
            ".+": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "properties": {
                    "link": {
                      "type": "string"
                    },
                    "color": {
                      "type": "string"
                    },
                    "pro": {
                      "type": "boolean"
                    },
                    "icon": {
                      "type": "string"
                    }
                  },
                  "additionalProperties": false,
                  "required": [
                    "link"
                  ]
                }
              ]
            }
          }
        },
        "loglevel": {
          "description": "Default Loglevel after instance creation",
          "type": "string",
          "enum": [
            "silly",
            "debug",
            "info",
            "warn",
            "error"
          ]
        },
        "logTransporter": {
          "description": "If this adapter receives logs from other hosts and adapters (e.g. to store them somewhere)",
          "type": "boolean"
        },
        "main": {
          "description": "Name of the start file. DEPRECATED: For controller >= 3.3 please use package.json main.",
          "type": "string"
        },
        "materialize": {
          "description": "If adapter supports > admin3 (materialize style) DEPRECATED: For admin version >= 5 please use the property 'adminUI'",
          "type": "boolean"
        },
        "materializeTab": {
          "description": "If adapter supports > admin3 for tab (materialize style) DEPRECATED: For admin version >= 5 please use the property 'adminUI'",
          "type": "boolean"
        },
        "mode": {
          "description": "Execution mode of the adapter",
          "type": "string",
          "enum": [
            "none",
            "daemon",
            "subscribe",
            "schedule",
            "once",
            "extension"
          ]
        },
        "noConfig": {
          "description": "Do not show configuration dialog for instance DEPRECATED: For admin version >= 5 please use adminUI.config = \"none\"",
          "type": "boolean"
        },
        "noIntro": {
          "description": "never show instances of this adapter on Intro/Overview screen in admin (like icons, widgets)",
          "type": "boolean"
        },
        "noRepository": {
          "description": "If adapter delivered with initial installation or has own repository",
          "type": "boolean"
        },
        "nogit": {
          "description": "If true, no install from github directly is possible",
          "type": "boolean"
        },
        "nondeletable": {
          "description": "This adapter cannot be deleted or updated. It will be updated together with controller.",
          "type": "boolean"
        },
        "onlyWWW": {
          "description": "Say to controller, that adapter has only html files and no main.js, like rickshaw",
          "type": "boolean"
        },
        "osDependencies": {
          "description": "OS packages which should be installed on adapter installation",
          "type": "object",
          "additionalProperties": false,
          "patternProperties": {
            "linux|darwin|win32": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        },
        "os": {
          "description": "String or array of supported operation systems, e.g [\"linux\", \"darwin\"]",
          "anyOf": [
            {
              "type": "string",
              "enum": [
                "linux",
                "darwin",
                "win32"
              ]
            },
            {
              "type": "array",
              "minItems": 1,
              "items": {
                "type": "string",
                "enum": [
                  "linux",
                  "darwin",
                  "win32"
                ]
              }
            }
          ]
        },
        "preserveSettings": {
          "description": "String (or array) with names of attributes in common of instance, which will not be deleted. E.g. \"history\", so by setState('system.adapter.mqtt.0\", {..}) the field common.history will not be deleted even if new object does not have this field. To delete the attribute it must be explicitly done with common:{history: null}.",
          "type": [
            "string",
            "array"
          ],
          "items": {
            "type": "string"
          }
        },
        "restartAdapters": {
          "description": "Array with names of adapter that must be restarted after this adapter is installed, e.g. [\"vis\"]",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "restartSchedule": {
          "description": "CRON schedule to restart mode daemon adapters",
          "type": "string"
        },
        "schedule": {
          "description": "CRON schedule if adapter runs in mode schedule",
          "type": "string"
        },
        "serviceStates": {
          "description": "If adapter can deliver additional states. If true, the path adapter/lib/states.js (or given path as string) will be called and it give following parameters function (objects, states, instance, config, callback). The function must deliver the array of points with values like function (err, result) { result = [{id: 'id1', val: 1}, {id: 'id2', val: 2}]}",
          "type": [
            "boolean",
            "string"
          ]
        },
        "singletonHost": {
          "description": "Adapter can be installed only once on one host",
          "type": "boolean"
        },
        "singleton": {
          "description": "Adapter can be installed only once in whole system",
          "type": "boolean"
        },
        "stopBeforeUpdate": {
          "description": "If adapter must be stopped before update",
          "type": "boolean"
        },
        "stopTimeout": {
          "description": "timeout in ms to wait, till adapter shut down",
          "type": "number",
          "default": 500,
          "minimum": 0,
          "multipleOf": 1
        },
        "subscribable": {
          "description": "Variables of this adapter must be subscribed with sendTo to enable updates",
          "type": "boolean"
        },
        "subscribe": {
          "description": "Name of variable, that is subscribed automatically",
          "type": "string"
        },
        "supportCustoms": {
          "description": "If the adapter support settings for every state. It has to have custom.html file in admin. Sample can be found in ioBroker.history",
          "type": "boolean"
        },
        "supportStopInstance": {
          "description": "If adapter supports signal stopInstance (messagebox required). Use number if you need more than 1000 ms for stop routine. The signal will be sent before stop to the adapter. (used if problems occurred with SIGTERM). (Up from controller v5, please use `common.supportedMessages.stopInstance`)",
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "number",
              "multipleOf": 1,
              "minimum": 1000
            }
          ]
        },
        "visWidgets": {
          "description": "Overview of vis 2 widgets provided by the adapter, define the name of the provided sets as keys",
          "minProperties": 1,
          "type": "object",
          "patternProperties": {
            ".+": {
              "description": "The key represents the name of a provided widget set",
              "required": [
                "url",
                "components",
                "i18n"
              ],
              "type": "object",
              "properties": {
                "i18n": {
                  "description": "Translation for the widget",
                  "anyOf": [
                    {
                      "description": "Translations will be loaded from visWidgets.<SET_NAME>.url and i18n/<LANG>.json",
                      "const": true
                    },
                    {
                      "description": "Translations will be loaded from customComponent.js with name ./translations",
                      "const": "component"
                    },
                    {
                      "description": "Define translations here",
                      "type": "object",
                      "patternProperties": {
                        ".+": {
                          "$ref": "#/definitions/multilingual"
                        }
                      }
                    }
                  ]
                },
                "url": {
                  "description": "Relative path ('http://ip:port/vis/widgets/' + url) or full url to load component from",
                  "type": "string"
                },
                "components": {
                  "description": "Names of widgets which have to be shown, normally equal to the content of 'modulefederation.config.js'",
                  "type": "array",
                  "minItems": 1,
                  "items": {
                    "type": "string"
                  }
                },
                "ignoreInVersions": {
                  "description": "The vis widget does not support the listed major versions of vis",
                  "type": "array",
                  "items": {
                    "type": "number",
                    "multipleOf": 1
                  }
                }
              }
            }
          }
        },
        "wakeup": {
          "description": "Adapter will be started if some value is written into system.adapter.NAME.x.wakeup. Normally the adapter should stop after processing of event.",
          "type": "boolean"
        },
        "webByVersion": {
          "description": "Show version as prefix in web adapter (usually - ip:port/material, webByVersion - ip:port/1.2.3/material)",
          "type": "boolean"
        },
        "webExtendable": {
          "description": "If web server in this adapter can be extended with plugin/extensions like proxy, simple-api",
          "type": "boolean"
        },
        "webExtension": {
          "description": "Relative filename to connect the web extension. E.g. in simple-api \"lib/simpleapi.js\" relative to the adapter root directory. Additionally is native.webInstance required to say where this extension will be included. Empty means, it must run as own web service. \"*\" means every web server must include it.",
          "type": "string"
        },
        "webPreSettings": {
          "description": "Object of parameters that must be included into info.js by webServer adapter. (Example material)",
          "type": "object"
        },
        "webservers": {
          "description": "Array of web server's instances that should serve content from the adapters www folder",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "welcomeScreen": {
          "description": "Array of pages, that should be shown on the \"web\" index.html page. [\"vis/edit.html\", \"vis/index.html\"] or [{\"link\": \"vis/edit.html\", \"name\": \"Vis editor\", \"img\": \"vis/img/edit.png\", \"color\": \"blue\"}, \"vis/index.html\"]",
          "type": "array",
          "items": {
            "type": [
              "string",
              "object"
            ]
          }
        },
        "welcomeScreenPro": {
          "description": "Array of pages used on access via ioBroker cloud, that should be shown on the \"web\" index.html page. [\"vis/edit.html\", \"vis/index.html\"] or [{\"link\": \"vis/edit.html\", \"name\": \"Vis editor\", \"img\": \"vis/img/edit.png\", \"color\": \"blue\"}, \"vis/index.html\"]",
          "type": "array",
          "items": {
            "type": [
              "string",
              "object"
            ]
          }
        },
        "wwwDontUpload": {
          "description": "Do not upload the www directory into DB. Used only for admin.",
          "type": "boolean"
        },
        "tier": {
          "description": "Lower tiers are started before higher tiers instances, TIER 1: LOGIC, TIER 2: APIs & other data, TIER 3: not fastly needed data, like BackItUp, Visualization, etc.",
          "type": "number",
          "minimum": 1,
          "maximum": 3,
          "default": 3
        },
        "messages": {
          "description": "Messages can be shown on adapter installation, update and instance creation",
          "type": "array",
          "items": {
            "type": "object",
            "additionalProperties": false,
            "required": [
              "title",
              "text",
              "buttons"
            ],
            "properties": {
              "condition": {
                "description": "Message will only be shown if condition matches",
                "additionalProperties": false,
                "type": "object",
                "properties": {
                  "operand": {
                    "description": "Operand to connect multiple rules",
                    "enum": [
                      "or",
                      "and"
                    ],
                    "default": "and"
                  },
                  "rules": {
                    "description": "Rules which need to be true, e.g. [\"oldVersion<2.0.0\", \"newVersion>=2.0.0\"]",
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              },
              "title": {
                "description": "Title of the shown message",
                "$ref": "#/definitions/multilingual"
              },
              "text": {
                "description": "Text of the shown message",
                "$ref": "#/definitions/multilingual"
              },
              "link": {
                "description": "You can define a hyperlink, which will be shown, define its text with `linkText`",
                "type": "string"
              },
              "level": {
                "description": "The importance of the message",
                "enum": [
                  "info",
                  "warn",
                  "error"
                ],
                "default": "warn"
              },
              "linkText": {
                "description": "If a link is defined and should be embedded in text, you can define the text here",
                "$ref": "#/definitions/multilingual"
              },
              "buttons": {
                "description": "Predefined buttons of the message window",
                "type": "array",
                "items": {
                  "enum": [
                    "ok",
                    "agree",
                    "cancel"
                  ]
                }
              }
            }
          }
        },
        "nodeProcessParams": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      },
      "allOf": [
        {
          "if": {
            "$ref": "#/definitions/isCompactTrue"
          },
          "then": {
            "$ref": "#/definitions/disallowNodeProcessParams"
          }
        }
      ]
    },
    "objects": {
      "description": "Objects which will be created for the adapter",
      "type": "array",
      "items": {
        "$ref": "#/definitions/iobrokerObject"
      }
    },
    "instanceObjects": {
      "description": "Objects which will be created for each instance",
      "type": "array",
      "items": {
        "$ref": "#/definitions/iobrokerObject"
      }
    },
    "notifications": {
      "description": "Register notifications for the built-in notification system",
      "type": "array",
      "items": {
        "type": "object",
        "required": [
          "scope",
          "name",
          "description",
          "categories"
        ],
        "additionalProperties": false,
        "properties": {
          "scope": {
            "type": "string"
          },
          "name": {
            "description": "Name which will be shown to the user",
            "$ref": "#/definitions/multilingual"
          },
          "description": {
            "description": "Description which will be shown to the user",
            "$ref": "#/definitions/multilingual"
          },
          "categories": {
            "type": "array",
            "items": {
              "type": "object",
              "additionalProperties": false,
              "required": [
                "category",
                "name",
                "severity",
                "description",
                "regex",
                "limit"
              ],
              "properties": {
                "category": {
                  "type": "string"
                },
                "name": {
                  "$ref": "#/definitions/multilingual"
                },
                "severity": {
                  "type": "string",
                  "enum": [
                    "info",
                    "notify",
                    "alert"
                  ],
                  "description": "`info` will only be shown by admin, while `notify` might also be used by messaging adapters, `alert` ensures both"
                },
                "description": {
                  "$ref": "#/definitions/multilingual"
                },
                "regex": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "limit": {
                  "type": "number",
                  "description": "Maximum amount of notifications to collect of this type"
                }
              }
            }
          }
        }
      }
    },
    "native": {
      "description": "Predefined attributes which are accessible in index_m.html and at runtime via adapter.config.<attribute>, e.g. {\"port\": 1234, \"password\": \"secret\"}",
      "type": "object"
    },
    "protectedNative": {
      "description": "Array of config attributes which will only be accessible by the own adapter, e.g. [\"password\"]",
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "encryptedNative": {
      "description": "Array of config attributes which will be automatically encrypted when stored via Admin configuration page and automatically decrypted at adapter runtime, e.g. [\"password\", \"token\"]",
      "type": "array",
      "items": {
        "type": "string"
      }
    }
  }
}
