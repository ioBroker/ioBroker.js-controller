---
Author: Apollon77
imageSource: https://pixabay.com/illustrations/fix-hand-equipment-work-sticker-2694108/
---
![logo](images/2019_02_22.png)
# ioBroker Installation "Fixer" Beta verf√ºgbar
Ende 2018 und vor allem im Januar 2019 hat @AlCalzone den ioBroker Installer komplett √ºberarbeitet und damit geh√∂ren in den inzwischen aktuellen Version von Anfang Februar 2019 auch alle Rechteprobleme der Vergangenheit. ioBroker l√§uft damit nicht mehr als "root" sondern unter einem eigenen User der alles darf was er f√ºr die aktuellen ioBroker Adapter k√∂nnen muss.
F√ºr alle neuen Installation ist also alles bestens.

Was ist aber wenn jemand ioBroker fr√ºher installiert hat? Er noch als root l√§uft? Oder in den ersten Tagen der neuen Installationsroutine?
Auch daf√ºr haben wir jetzt dank @AlCalzone eine L√∂sung: den Installation-Fixer

Mittels einem Kommando wird eine bestehende Installation in /opt/iobroker auf den gleichen Stand gebracht wie eine aktuelle neue Installation. Das Skript kann auch in Zukunft immer wieder genutzt werden um die Installation diesbez√ºglich zu Aktualisieren.
Wichtig: Diese Skript aktualisiert weder nodejs, npm noch js-controller oder irgend einen Adapter. Nur die Systemrechte u.a. werden bearbeitet.
Versucht es und gebt Feedback im Diskussionsthread unter https://forum.iobroker.net/topic/20212/diskussion-zum-neuen-installation-fixer

Bitte beachten: Anwendung unter Docker sollte, weil eh alles als root l√§uft, nicht n√∂tig sein und wir raten aktuell mangels klarer Erfahrungen und Feedback von einer Anwendung ab. Falls es doch jemand versuchen will und Feedback geben will: Anwendung komplett auf eigene Gefahr. Unbedingt vorher ein Backup machen und wissen was man tut!

Bitte beachtet den FAQ Post in diesem Thread!

Das auszuf√ºhrende Skript wird, wie beim Installer auch, von GitHub geladen und ist so immer aktuell. Der Befehl lautet:

```curl -sL https://iobroker.net/fix.sh | bash -```

Viel Erfolg und immer eine aktuelle Installation,

Apollon77 & AlCalzone

## FAQ
### Muss man den Fixer nutzen?
Wir empfehlen die Installation zu aktualisieren und daher den Fixer zu nutzen. Damit habt Ihr eine Installation die wir auch supporten k√∂nnen falls es Probleme gibt. Mit npm 5 und h√∂her gab es immer mehr Probleme wenn mit root oder sudo gearbeitet wird und der neue Installer und damit auf der Fixer sind f√ºr Linux-basierte Systeme tragen dem Rechnung und versuchen diese Probleme zu verhindern. Und die Sicherheitsaspekte sind auch nicht zu vernachl√§ssigen.

### Wo kann ich sehen was der Fixer alles macht?
Wir versuchen den Installer und Fixer immer aktuell zu halten.
Beide haben auch ein Changelog.
Installer: https://github.com/ioBroker/ioBroker/blob/master/CHANGELOG_INSTALLER_LINUX.md
Fixer: https://github.com/ioBroker/ioBroker/blob/master/CHANGELOG_FIXER_LINUX.md
Ansonsten das Skript direkt ansehen wenn Ihr etwas von Shell-Programmierung versteht üôÇ

### Als welcher Benutzer f√ºhrt man den Fixer am besten aus?
Es ist faktisch egal. Am besten f√ºhre es als normaler Benutzer aus, dann kannst Du danach
auch damit arbeiten.

### In welchem Verzeichnis f√ºhrt man den Fixer am besten aus?
Es ist auch egal. Der aktuelle Fixer (2019-02-21) erwartet die Installation in /opt/iobroker

### F√ºr welche Betriebssysteme gilt der Fixer?
F√ºr alle Linux-basierte Systeme. Windows ist hier nicht abgedeckt.

### Was genau tut der Fixer?
Der Fixer legt einen ioBroker Benutzer an, setzt Datei- und Verzeichnis Rechte korrekt f√ºr diesen User und ebenso einige Sudo-Rechte und alles was gebraucht wird um ohne Root mit ioBroker und npm arbeiten zu k√∂nnen.

### Kann der Fixer mehrfach ausgef√ºhrt werden wenn es Updates gibt?
Ja und das ist explizit so gedacht um bei Weiterentwicklung des Installers immer aktuell bleiben zu k√∂nnen.

### Gibt es spezielle Situationen wo der Fixer zus√§tzlich ausgef√ºhrt werden sollte?
Der Fixer behandelt auch spezielle Rechte wenn redis und backitup genutzt wird. Falls Redis bei der Anwendung bereits installiert ist wird alles automatisch korrekt gesetzt. Falls Redis sp√§ter installiert wird setzt der Fixer auch dazu alles korrekt.

### Kann der Installations-Fixer auch unter Docker eingesetzt werden?
Aktuell liegen noch wenige Erfahrungen vor und die Ergebnisse sind sehr gemischt. Wir raten daher aktuell von einem Einsatz ab, auch da im Container meist alles als root l√§uft und daher eh nicht relevant ist. Wer dennoch mag und Feedback geben will: Einsatz in Docker auf eigene Gefahr und NIE ohne Backup und Wissen was man tut!

### Was kann ich tun wenn ich nicht sicher bin das was schieff geht?
Du kannst das ioBroker Verzeichnis vorher einfach kopieren, wobei ausser Berechtigungen nichts ge√§ndert wird.
